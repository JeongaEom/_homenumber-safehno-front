{"version":3,"file":"index-77Q4OO6y.js","sources":["../../../../pages/index.vue"],"sourcesContent":["<script setup>\n  import { ref, onMounted } from 'vue';\n  import { useRouter } from 'vue-router';\n  import { tknEncValid } from '@/api';\n\n  definePageMeta({\n    layout: \"default-none\",\n    name: \"main\",\n  });\n\n  const d = reactive({\n    token: \"\",\n    tokenIssu: \"\",\n    tokenIssuId: \"240411132224EX7G\",\n    encData: \"j1l7oOjyXvGJmukvCRhQw6pVGACNQ8CpjRycl+oglPdzOk4NqK3ol94cpZuVlvlNUtOh/YNr+6Xtc5Q8WHv3qquTRTgNlaMy9b3CR6O4AxbAGvVkRNtzo9C26wmMez3BIwrT/2S7TDR+bppobVFcnw==\",\n    sign: \"mL3BWUrR7dflijDl/3HUuihL40cICf6FbO8CZCWf45U=\"\n  });\n\n  onMounted(\n    async () => {\n      const params = new URLSearchParams(window.location.search);\n      const dataParam = params.get('data');\n\n      if (dataParam) {\n        // URL 쿼리 파라미터로부터 데이터를 파싱합니다.\n        const data = JSON.parse(decodeURIComponent(dataParam));\n        // router.push('/login');\n        console.log('수신된 데이터:', data);\n        d.token = data.token;\n        console.log('d.token:', d.token);\n        console.log('data.tokenIssuId:', data.tokenIssuId);\n        // alert(`d.tokenIssuId: ${d.tokenIssuId}`);\n      }\n\n      d.tokenIssu = await tknEncValid(d.tokenIssuId, d.encData, d.sign);\n      console.log('d.token1:', d.token);\n      console.log('d.tokenIssuId:', d.tokenIssuId);\n      if(d.token === d.tokenIssu) {\n        const router = useRouter();\n        router.push('/login');\n\n      } else {\n        alert('암호화 토큰 유효성이 맞지않습니다. 다시 시도해주세요.');\n        // window.close();\n      };\n      // console.log('d.tokenIssuId1:', d.tokenIssuIdB);\n      // console.log(tknEncValid);\n      console.log(d.tokenIssu);\n    }\n  );\n</script>\n\n<template></template>"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAUY,aAAS;AAAA,MACjB,OAAO;AAAA,MACP,WAAW;AAAA,MACX,aAAa;AAAA,MACb,SAAS;AAAA,MACT,MAAM;AAAA,IAAA,CACP;;;;;;;;;;;"}