import{l as c,r as l,k as u}from"./MnVJF7Ku.js";import{u as g}from"./CwA0o6hu.js";import"./CIbZOi2I.js";import{c as p}from"./CqShP8F2.js";import"./DcstPiV4.js";const f=(i,n,r)=>{const t=c(),e=g();return e.isVerifing?e.verifingPromise:(e.isVerifing=!0,e.verifingResolve=null,e.verifingPromise=new Promise(s=>{e.verifingResolve=s}),p({id:"2.16 암호화 토큰 유효성 검사",endpoint:"/safehno/v1/tkn/enc/valid",headers:"PUBLIC",withCredentials:!0,data:{tokenIssuId:i,encData:n,sign:r},onFinally(){e.verifingResolve(!0),e.isVerifing=!1,console.log("app.isVerifing: ",e.isVerifing),console.log(" app.verifingResolv: ",e.verifingResolve)},onResponse({data:s,code:o,message:a}){return console.log("유효성_code: ",o),o===2e3?(t.push("/login"),!0):!1}}))},_={__name:"index",setup(i){const n=l({tokenIssuId:"",encData:"",sign:""}),r=async()=>{const e=new URLSearchParams(window.location.search),s=e.get("tokenIssuId"),o=e.get("encData"),a=e.get("sign");n.tokenIssuId=s,n.encData=o,n.sign=a,await t()},t=async()=>{try{await f(n.tokenIssuId,n.encData,n.sign)}catch(e){console.error("API 호출 중 오류 발생:",e)}};return u(async()=>{await r()}),(e,s)=>null}};export{_ as default};
